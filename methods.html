<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Methods - DIGEN</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Methods";
    var mkdocs_page_input_path = "methods.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="index.html" class="icon icon-home"> DIGEN</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="index.html">Home</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="methods.html">Methods</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#algorithm">Algorithm</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#hibachi">HIBACHI</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#stage-1-pairwise-duels">Stage 1 - pairwise duels</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#algorithm-stage-2-thorough-optimizations">Algorithm stage 2 - thorough optimizations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#algorithm-stage-3-filtering-the-best-datasets">Algorithm stage 3 - filtering the best datasets</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#operands">Operands</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#references">References</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="benchmark.html">Benchmark</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">DIGEN</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
      
    
    <li>Methods</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="methods">Methods</h1>
<p>DIGEN benchmark emerged as the result of multilevel optimization
starting from a duel between 2 ML methods with 15 different random
seeds. As running ML method with default parameters doesn't necessarily
reflect its actual performance, a complex strategy aimed at determining
actual ML methods performance is performed.</p>
<p>In the first stage, a two-factor optimization is used to find the
optimal candidates that both maximize the difference between the 2 ML
methods in terms of AUROC score as well as maximize the standard
deviation of all the methods. The specific parameters of ML methods are
chosen according to their distribution based on the recommendations from
AutoSklearn <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> <sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>, Optuna <sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>, Hyperopt
<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup> and expert knowledge. The best performing candidates from each of
the duel are selected for thorough optimization of all the ML methods.</p>
<p>In the second stage, all the selected candidates are optimized and
benchmarked under the same conditions (200 optimizations).</p>
<p>The third stage is simply filtering the results down to 40 datasets,
which differentiate the performance of 8 ML the most.</p>
<h2 id="algorithm">Algorithm</h2>
<p>Our goal in development of DIGEN was to provide a balanced datasets with N(0,1) distributed data and manipulate the endpoint based on the ML methods performance.
The steps of the algorithm, which was used to determine the datesets are outlined below.</p>
<h3 id="hibachi">HIBACHI</h3>
<p>Heuristic Identification of Biological Architectures for simulating
Complex Hierarchical Interactions (HIBACHI) <sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup> is
a method based on genetic programming (GP) which creates different
mathematical formulas for the endpoint. The endpoints of each of the
dataset is a mathematical formula, represented by a directed graph that
contains variables (features of the dataset), terminals (values) as well
as mathematical operators.</p>
<h3 id="stage-1-pairwise-duels">Stage 1 - pairwise duels</h3>
<p>The pipeline starts with generating independent variables of the dataset using normal
distribution N(0,1). Then, multiple candidates for dependent variable
(endpoint) are generated using HIBACHI. After evaluating each of the
instances, all the results are sorted and binarized, so that the half of
the largest values is assigned '1' and half with lowest - '0'.</p>
<p><img alt="Scheme of the steps taken in each iteration to diversify ML methods (a
duel between LightGBM and XGBoost)." src="figs/description.jpg" /></p>
<p>After the endpoints are determined, the dataset is split into training
and testing sets (80%/20%). Training part is further split into 10
folds. Optuna <sup id="fnref2:3"><a class="footnote-ref" href="#fn:3">3</a></sup> is used to control the tuning of ML methods
(see Algorithm 1).</p>
<p>
<script type="math/tex">X_{train}, y_{train}</script>
<script type="math/tex">\gets</script> next fold in 10-fold cross validation</p>
<p>
<script type="math/tex">auc</script>
<script type="math/tex">\gets</script>
<script type="math/tex">auc.append(est.predict(X_{test}, y_{test}))</script>
</p>
<p>Both ML methods participating in the duel are optimized 10 times and
their performance is averaged on 2 out of 10 folds. This follows the
approach presented by pruned-cv <sup id="fnref:8"><a class="footnote-ref" href="#fn:8">8</a></sup>. If this difference is positive and
significantly better than the previously found ones, all 8 ML methods
are evaluated on full 10 folds to determine two optimization factors:
difference in AUROC score between 2 competing methods as well as
standard deviation between the scores of all 8 ML methods. Otherwise,
the potential solution is pruned and invalidated.</p>
<p>Having computed optimization factors for all candidates in a given
iteration, Pareto-optimal candidates are selected using NSGA-III
strategy <sup id="fnref:6"><a class="footnote-ref" href="#fn:6">6</a></sup> and corresponding GP-trees are mutated
using genetic operators, such as mutations and crossovers.</p>
<h3 id="algorithm-stage-2-thorough-optimizations">Algorithm stage 2 - thorough optimizations</h3>
<p>After completing all pairwise duels between ML methods using 15
different random seeds, an extended optimization using 200 combinations
of hyper-parameters is performed in order to
reduce bias from improperly settings the parameters. Finally, after
selecting several hundreds of the most promising solutions, 100
different random seeds are tested, so that the results are independent on the choice of
the random seed. The final step includes manual selection of the
datasets, which in our opinion represent the most diverse results within
the collection.</p>
<h3 id="algorithm-stage-3-filtering-the-best-datasets">Algorithm stage 3 - filtering the best datasets</h3>
<p>In the final steps, a replication of the results is considered. In this
stage, for each of the formulas selected, 100 random seeds are used to
create different datasets, which are later analyzed using the same
model. Each of the datasets is used to run 100 optimizations of each of the 8 ML methods.
Based on the results, the collection is narrowed down to 40
datasets.</p>
<h2 id="operands">Operands</h2>
<p>In order to determine the dependent variable in each of the datasets in
DIGEN40 we used Genetic Programming <sup id="fnref:7"><a class="footnote-ref" href="#fn:7">7</a></sup>. Using
evolutionary algorithm, in each iteration multiple candidates are tested
that feature the following operands: arithmetic: <strong>add</strong>, <strong>subtract</strong>,
<strong>multiply</strong>, <strong>safe division (safeDiv)</strong>; and relational: <strong>greater (or equal) than</strong>, <strong>lesser
(or equal) than</strong>, <strong>equal</strong>, <strong>not equal</strong>, <strong>minimum</strong> and <strong>maximum</strong>. The DIGEN
collection is diverse in terms of the choice of the operators included.
Only two datasets use exactly the same set of operators (safe division and
multiplication), but in different order (either first safeDiv than multiplication, or the opposite).</p>
<h2 id="references">References</h2>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Matthias Feurer, Aaron Klein, Katharina Eggensperger, Jost Springenberg, Manuel Blum, and Frank Hutter. Efficient and robust automated machine learning. In C. Cortes, N. D. Lawrence, D. D. Lee, M. Sugiyama, and R. Garnett, editors, <em>Advances in Neural Information Processing Systems 28</em>, pages 2962–2970. Curran Associates, Inc., 2015. URL: <a href="http://papers.nips.cc/paper/5872-efficient-and-robust-automated-machine-learning.pdf">http://papers.nips.cc/paper/5872-efficient-and-robust-automated-machine-learning.pdf</a>.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Matthias Feurer, Katharina Eggensperger, Stefan Falkner, Marius Lindauer, and Frank Hutter. Auto-sklearn 2.0: the next generation. <em>arXiv preprint arXiv:2007.04074</em>, 2020.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>Takuya Akiba, Shotaro Sano, Toshihiko Yanase, Takeru Ohta, and Masanori Koyama. Optuna: a next-generation hyperparameter optimization framework. In <em>Proceedings of the 25rd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining</em>. 2019.&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>James Bergstra, Brent Komer, Chris Eliasmith, Dan Yamins, and David D Cox. Hyperopt: a python library for model selection and hyperparameter optimization. <em>Computational Science &amp; Discovery</em>, 8<script type="math/tex">1</script>:014008, 2015.&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>Jason H Moore, Randal S Olson, Peter Schmitt, Yong Chen, and Elisabetta Manduchi. How computational thought experiments can improve our understanding of the genetic architecture of common human diseases. In <em>Artificial Life Conference Proceedings</em>, 23–30. MIT Press, 2018.&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>Kalyanmoy Deb and Himanshu Jain. An evolutionary many-objective optimization algorithm using reference-point-based nondominated sorting approach, part i: solving problems with box constraints. <em>IEEE transactions on evolutionary computation</em>, 18<script type="math/tex">4</script>:577–601, 2013.&#160;<a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:7">
<p>John R Koza and John R Koza. <em>Genetic programming: on the programming of computers by means of natural selection</em>. Volume 1. MIT press, 1992.&#160;<a class="footnote-backref" href="#fnref:7" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
<li id="fn:8">
<p>https://github.com/PiotrekGa/pruned-cv&#160;<a class="footnote-backref" href="#fnref:8" title="Jump back to footnote 8 in the text">&#8617;</a></p>
</li>
</ol>
</div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="benchmark.html" class="btn btn-neutral float-right" title="Benchmark">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="index.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="benchmark.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
